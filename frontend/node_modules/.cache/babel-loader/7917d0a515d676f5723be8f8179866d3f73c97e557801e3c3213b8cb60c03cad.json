{"ast":null,"code":"import { ref, reactive, computed, onMounted } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { useAuthStore } from '@/store/auth';\nimport { ElMessage, ElMessageBox } from 'element-plus';\nimport { HomeFilled, Monitor, DataLine, Connection, User, Setting, Search, Plus, ArrowDown, CircleCheck, CircleClose, Warning, Delete, VideoPlay, VideoPause, Camera } from '@element-plus/icons-vue';\nexport default {\n  name: 'DeviceManagementPage',\n  components: {\n    HomeFilled,\n    Monitor,\n    DataLine,\n    Connection,\n    User,\n    Setting,\n    Search,\n    Plus,\n    ArrowDown,\n    CircleCheck,\n    CircleClose,\n    Warning,\n    Delete,\n    VideoPlay,\n    VideoPause,\n    Camera\n  },\n  setup() {\n    const router = useRouter();\n    const authStore = useAuthStore();\n\n    // 侧边栏状态\n    const isCollapse = ref(false);\n\n    // 用户信息\n    const userName = computed(() => authStore.user?.name || '用户');\n    const userAvatar = computed(() => authStore.user?.avatar || '');\n    const userInitials = computed(() => {\n      const name = authStore.user?.name || '';\n      return name.substring(0, 1).toUpperCase();\n    });\n    const isAdmin = computed(() => authStore.isAdmin);\n\n    // 设备统计\n    const deviceStats = reactive({\n      total: 0,\n      online: 0,\n      offline: 0,\n      warning: 0\n    });\n\n    // 设备列表状态\n    const loading = ref(false);\n    const devices = ref([]);\n    const totalDevices = ref(0);\n    const currentPage = ref(1);\n    const pageSize = ref(10);\n\n    // 搜索和筛选\n    const searchQuery = ref('');\n    const filterType = ref('');\n    const filterStatus = ref('');\n    const filterLocation = ref('');\n\n    // 位置列表\n    const locations = ref(['1号猪舍', '2号猪舍', '3号猪舍', '饲料仓库', '中控室']);\n\n    // 对话框状态\n    const addDialogVisible = ref(false);\n    const detailDialogVisible = ref(false);\n    const controlDialogVisible = ref(false);\n    const submitting = ref(false);\n    const deviceFormRef = ref(null);\n\n    // 当前选中的设备\n    const currentDevice = ref(null);\n\n    // 设备表单\n    const deviceForm = reactive({\n      name: '',\n      type: '',\n      location: '',\n      ip: '',\n      mac: '',\n      notes: ''\n    });\n\n    // 控制表单\n    const controlForm = reactive({\n      power: true,\n      mode: 'auto',\n      temperature: 24,\n      humidity: 60,\n      feedMode: 'auto',\n      feedAmount: 10\n    });\n\n    // 饲喂计划\n    const feedSchedule = ref([{\n      time: '08:00',\n      amount: 20\n    }, {\n      time: '16:00',\n      amount: 15\n    }]);\n    const newScheduleTime = ref('');\n    const newScheduleAmount = ref(10);\n\n    // 设备告警记录\n    const deviceAlerts = ref([{\n      time: '2025-03-15 08:23',\n      type: '温度异常',\n      message: '设备检测到温度过高 (32.5°C)',\n      status: 'resolved'\n    }, {\n      time: '2025-03-14 23:45',\n      type: '连接中断',\n      message: '设备连接中断超过30分钟',\n      status: 'active'\n    }]);\n\n    // 设备维护记录\n    const deviceMaintenance = ref([{\n      time: '2025-03-10 14:30',\n      type: '例行检查',\n      operator: '张三',\n      description: '设备例行检查，清理灰尘，检查连接'\n    }, {\n      time: '2025-02-20 09:15',\n      type: '固件升级',\n      operator: '李四',\n      description: '升级设备固件至v2.3.5版本'\n    }]);\n\n    // 表单验证规则\n    const deviceRules = {\n      name: [{\n        required: true,\n        message: '请输入设备名称',\n        trigger: 'blur'\n      }, {\n        min: 2,\n        max: 30,\n        message: '长度在 2 到 30 个字符',\n        trigger: 'blur'\n      }],\n      type: [{\n        required: true,\n        message: '请选择设备类型',\n        trigger: 'change'\n      }],\n      location: [{\n        required: true,\n        message: '请选择安装位置',\n        trigger: 'change'\n      }],\n      ip: [{\n        required: true,\n        message: '请输入设备IP地址',\n        trigger: 'blur'\n      }],\n      mac: [{\n        required: true,\n        message: '请输入设备MAC地址',\n        trigger: 'blur'\n      }]\n    };\n\n    // 设备管理方法\n    const handleCommand = () => {\n      // 实现命令处理逻辑\n    };\n    const toggleSidebar = () => {\n      // 实现侧边栏切换逻辑\n    };\n    const showAddDeviceDialog = () => {\n      // 实现显示添加设备对话框逻辑\n    };\n    const handleSearch = () => {\n      // 实现搜索逻辑\n    };\n    const handleSizeChange = () => {\n      // 实现分页大小改变逻辑\n    };\n    const handleCurrentChange = () => {\n      // 实现当前页改变逻辑\n    };\n    const handleDetail = device => {\n      // 实现查看设备详情逻辑\n    };\n    const handleControl = device => {\n      // 实现控制设备逻辑\n    };\n    const handleDelete = device => {\n      // 实现删除设备逻辑\n    };\n    const handlePowerChange = () => {\n      // 实现设备开关改变逻辑\n    };\n    const handleModeChange = () => {\n      // 实现设备运行模式改变逻辑\n    };\n    const handleTemperatureChange = () => {\n      // 实现温度设定改变逻辑\n    };\n    const handleHumidityChange = () => {\n      // 实现湿度设定改变逻辑\n    };\n    const handleFeedModeChange = () => {\n      // 实现饲喂模式改变逻辑\n    };\n    const handleFeedAmountChange = () => {\n      // 实现饲喂量改变逻辑\n    };\n    const handleManualFeed = () => {\n      // 实现手动饲喂逻辑\n    };\n    const removeFeedSchedule = index => {\n      // 实现移除饲喂计划逻辑\n    };\n    const addFeedSchedule = () => {\n      // 实现添加饲喂计划逻辑\n    };\n    return {\n      // 用户信息\n      userName,\n      userAvatar,\n      userInitials,\n      isAdmin,\n      // 侧边栏状态\n      isCollapse,\n      toggleSidebar,\n      // 设备统计\n      deviceStats,\n      // 设备列表状态\n      loading,\n      devices,\n      totalDevices,\n      currentPage,\n      pageSize,\n      // 搜索和筛选\n      searchQuery,\n      filterType,\n      filterStatus,\n      filterLocation,\n      locations,\n      handleSearch,\n      handleSizeChange,\n      handleCurrentChange,\n      // 设备操作\n      handleDetail,\n      handleControl,\n      handleDelete,\n      handleCommand,\n      // 设备表单\n      addDialogVisible,\n      showAddDeviceDialog,\n      deviceForm,\n      deviceRules,\n      deviceFormRef,\n      submitting,\n      submitDeviceForm,\n      // 设备详情\n      detailDialogVisible,\n      currentDevice,\n      deviceAlerts,\n      deviceMaintenance,\n      // 设备控制\n      controlDialogVisible,\n      controlForm,\n      handlePowerChange,\n      handleModeChange,\n      handleTemperatureChange,\n      handleHumidityChange,\n      handleFeedModeChange,\n      handleFeedAmountChange,\n      handleManualFeed,\n      // 饲喂计划\n      feedSchedule,\n      newScheduleTime,\n      newScheduleAmount,\n      addFeedSchedule,\n      removeFeedSchedule,\n      // 辅助函数\n      getDeviceTypeTag: type => {\n        const typeMap = {\n          sensor: 'info',\n          controller: 'success',\n          camera: 'warning',\n          feeder: 'primary'\n        };\n        return typeMap[type] || 'info';\n      },\n      getDeviceTypeName: type => {\n        const typeMap = {\n          sensor: '环境传感器',\n          controller: '控制设备',\n          camera: '摄像头',\n          feeder: '饲喂设备'\n        };\n        return typeMap[type] || '未知设备';\n      },\n      getStatusTagType: status => {\n        const statusMap = {\n          online: 'success',\n          offline: 'info',\n          warning: 'warning',\n          error: 'danger'\n        };\n        return statusMap[status] || 'info';\n      },\n      getStatusName: status => {\n        const statusMap = {\n          online: '在线',\n          offline: '离线',\n          warning: '告警',\n          error: '错误'\n        };\n        return statusMap[status] || '未知状态';\n      },\n      // 计算属性\n      filteredDevices: computed(() => {\n        // 这里应该实现根据搜索条件过滤设备的逻辑\n        // 简单示例：\n        return devices.value.filter(device => {\n          const matchQuery = !searchQuery.value || device.name.toLowerCase().includes(searchQuery.value.toLowerCase()) || device.id.toLowerCase().includes(searchQuery.value.toLowerCase());\n          const matchType = !filterType.value || device.type === filterType.value;\n          const matchStatus = !filterStatus.value || device.status === filterStatus.value;\n          const matchLocation = !filterLocation.value || device.location === filterLocation.value;\n          return matchQuery && matchType && matchStatus && matchLocation;\n        });\n      })\n    };\n  }\n};","map":{"version":3,"names":["ref","reactive","computed","onMounted","useRouter","useAuthStore","ElMessage","ElMessageBox","HomeFilled","Monitor","DataLine","Connection","User","Setting","Search","Plus","ArrowDown","CircleCheck","CircleClose","Warning","Delete","VideoPlay","VideoPause","Camera","name","components","setup","router","authStore","isCollapse","userName","user","userAvatar","avatar","userInitials","substring","toUpperCase","isAdmin","deviceStats","total","online","offline","warning","loading","devices","totalDevices","currentPage","pageSize","searchQuery","filterType","filterStatus","filterLocation","locations","addDialogVisible","detailDialogVisible","controlDialogVisible","submitting","deviceFormRef","currentDevice","deviceForm","type","location","ip","mac","notes","controlForm","power","mode","temperature","humidity","feedMode","feedAmount","feedSchedule","time","amount","newScheduleTime","newScheduleAmount","deviceAlerts","message","status","deviceMaintenance","operator","description","deviceRules","required","trigger","min","max","handleCommand","toggleSidebar","showAddDeviceDialog","handleSearch","handleSizeChange","handleCurrentChange","handleDetail","device","handleControl","handleDelete","handlePowerChange","handleModeChange","handleTemperatureChange","handleHumidityChange","handleFeedModeChange","handleFeedAmountChange","handleManualFeed","removeFeedSchedule","index","addFeedSchedule","submitDeviceForm","getDeviceTypeTag","typeMap","sensor","controller","camera","feeder","getDeviceTypeName","getStatusTagType","statusMap","error","getStatusName","filteredDevices","value","filter","matchQuery","toLowerCase","includes","id","matchType","matchStatus","matchLocation"],"sources":["C:\\Users\\Scott\\Downloads\\毕设\\frontend\\src\\views\\admin\\DeviceManagement.vue"],"sourcesContent":["<template>\r\n  <div class=\"device-management-page\">\r\n    <el-container>\r\n      <!-- 侧边栏 -->\r\n      <el-aside width=\"250px\" class=\"sidebar\">\r\n        <div class=\"logo-container\">\r\n          <img src=\"@/assets/logo.svg\" alt=\"泓泰生物科技\" class=\"logo\" />\r\n          <h2>智能养殖管理系统</h2>\r\n        </div>\r\n        \r\n        <el-menu\r\n          default-active=\"/admin/devices\"\r\n          class=\"sidebar-menu\"\r\n          router\r\n          background-color=\"#001529\"\r\n          text-color=\"#fff\"\r\n          active-text-color=\"#409EFF\"\r\n        >\r\n          <el-menu-item index=\"/admin\">\r\n            <el-icon><HomeFilled /></el-icon>\r\n            <span>控制台</span>\r\n          </el-menu-item>\r\n          \r\n          <el-menu-item index=\"/admin/monitoring\">\r\n            <el-icon><Monitor /></el-icon>\r\n            <span>生产监控</span>\r\n          </el-menu-item>\r\n          \r\n          <el-sub-menu index=\"data\">\r\n            <template #title>\r\n              <el-icon><DataLine /></el-icon>\r\n              <span>数据分析</span>\r\n            </template>\r\n            <el-menu-item index=\"/admin/data/environment\">环境数据</el-menu-item>\r\n            <el-menu-item index=\"/admin/data/production\">生产数据</el-menu-item>\r\n            <el-menu-item index=\"/admin/data/reports\">报表中心</el-menu-item>\r\n          </el-sub-menu>\r\n          \r\n          <el-menu-item index=\"/admin/devices\">\r\n            <el-icon><Connection /></el-icon>\r\n            <span>设备管理</span>\r\n          </el-menu-item>\r\n          \r\n          <el-menu-item v-if=\"isAdmin\" index=\"/admin/employees\">\r\n            <el-icon><User /></el-icon>\r\n            <span>员工管理</span>\r\n          </el-menu-item>\r\n          \r\n          <el-menu-item index=\"/admin/settings\">\r\n            <el-icon><Setting /></el-icon>\r\n            <span>系统设置</span>\r\n          </el-menu-item>\r\n        </el-menu>\r\n      </el-aside>\r\n      \r\n      <!-- 主内容区 -->\r\n      <el-container>\r\n        <!-- 顶部导航 -->\r\n        <el-header class=\"header\">\r\n          <div class=\"header-left\">\r\n            <el-button\r\n              type=\"text\"\r\n              :icon=\"isCollapse ? 'Expand' : 'Fold'\"\r\n              @click=\"toggleSidebar\"\r\n              class=\"toggle-button\"\r\n            />\r\n            <el-breadcrumb separator=\"/\">\r\n              <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\r\n              <el-breadcrumb-item :to=\"{ path: '/admin' }\">管理控制台</el-breadcrumb-item>\r\n              <el-breadcrumb-item>设备管理</el-breadcrumb-item>\r\n            </el-breadcrumb>\r\n          </div>\r\n          \r\n          <div class=\"header-right\">\r\n            <el-dropdown trigger=\"click\" @command=\"handleCommand\">\r\n              <div class=\"user-dropdown\">\r\n                <el-avatar :size=\"32\" :src=\"userAvatar\">{{ userInitials }}</el-avatar>\r\n                <span class=\"username\">{{ userName }}</span>\r\n                <el-icon><ArrowDown /></el-icon>\r\n              </div>\r\n              \r\n              <template #dropdown>\r\n                <el-dropdown-menu>\r\n                  <el-dropdown-item command=\"profile\">个人信息</el-dropdown-item>\r\n                  <el-dropdown-item command=\"settings\">账号设置</el-dropdown-item>\r\n                  <el-dropdown-item divided command=\"logout\">退出登录</el-dropdown-item>\r\n                </el-dropdown-menu>\r\n              </template>\r\n            </el-dropdown>\r\n          </div>\r\n        </el-header>\r\n        \r\n        <!-- 主内容 -->\r\n        <el-main class=\"main-content\">\r\n          <div class=\"page-header\">\r\n            <h1>设备管理</h1>\r\n            <el-button type=\"primary\" @click=\"showAddDeviceDialog\">\r\n              <el-icon><Plus /></el-icon> 添加设备\r\n            </el-button>\r\n          </div>\r\n          \r\n          <!-- 设备概览 -->\r\n          <el-row :gutter=\"20\" class=\"device-overview\">\r\n            <el-col :xs=\"24\" :sm=\"12\" :md=\"6\">\r\n              <el-card shadow=\"hover\" class=\"overview-card\">\r\n                <div class=\"overview-content\">\r\n                  <div class=\"overview-icon\">\r\n                    <el-icon><Monitor /></el-icon>\r\n                  </div>\r\n                  <div class=\"overview-data\">\r\n                    <div class=\"overview-value\">{{ deviceStats.total }}</div>\r\n                    <div class=\"overview-label\">设备总数</div>\r\n                  </div>\r\n                </div>\r\n              </el-card>\r\n            </el-col>\r\n            \r\n            <el-col :xs=\"24\" :sm=\"12\" :md=\"6\">\r\n              <el-card shadow=\"hover\" class=\"overview-card\">\r\n                <div class=\"overview-content\">\r\n                  <div class=\"overview-icon online\">\r\n                    <el-icon><CircleCheck /></el-icon>\r\n                  </div>\r\n                  <div class=\"overview-data\">\r\n                    <div class=\"overview-value\">{{ deviceStats.online }}</div>\r\n                    <div class=\"overview-label\">在线设备</div>\r\n                  </div>\r\n                </div>\r\n              </el-card>\r\n            </el-col>\r\n            \r\n            <el-col :xs=\"24\" :sm=\"12\" :md=\"6\">\r\n              <el-card shadow=\"hover\" class=\"overview-card\">\r\n                <div class=\"overview-content\">\r\n                  <div class=\"overview-icon offline\">\r\n                    <el-icon><CircleClose /></el-icon>\r\n                  </div>\r\n                  <div class=\"overview-data\">\r\n                    <div class=\"overview-value\">{{ deviceStats.offline }}</div>\r\n                    <div class=\"overview-label\">离线设备</div>\r\n                  </div>\r\n                </div>\r\n              </el-card>\r\n            </el-col>\r\n            \r\n            <el-col :xs=\"24\" :sm=\"12\" :md=\"6\">\r\n              <el-card shadow=\"hover\" class=\"overview-card\">\r\n                <div class=\"overview-content\">\r\n                  <div class=\"overview-icon warning\">\r\n                    <el-icon><Warning /></el-icon>\r\n                  </div>\r\n                  <div class=\"overview-data\">\r\n                    <div class=\"overview-value\">{{ deviceStats.warning }}</div>\r\n                    <div class=\"overview-label\">告警设备</div>\r\n                  </div>\r\n                </div>\r\n              </el-card>\r\n            </el-col>\r\n          </el-row>\r\n          \r\n          <!-- 搜索和筛选 -->\r\n          <div class=\"filter-container\">\r\n            <el-input\r\n              v-model=\"searchQuery\"\r\n              placeholder=\"搜索设备名称/ID\"\r\n              class=\"search-input\"\r\n              clearable\r\n              @clear=\"handleSearch\"\r\n              @input=\"handleSearch\"\r\n            >\r\n              <template #prefix>\r\n                <el-icon><Search /></el-icon>\r\n              </template>\r\n            </el-input>\r\n            \r\n            <el-select v-model=\"filterType\" placeholder=\"设备类型\" clearable @change=\"handleSearch\">\r\n              <el-option label=\"全部类型\" value=\"\" />\r\n              <el-option label=\"环境传感器\" value=\"sensor\" />\r\n              <el-option label=\"控制设备\" value=\"controller\" />\r\n              <el-option label=\"摄像头\" value=\"camera\" />\r\n              <el-option label=\"饲喂设备\" value=\"feeder\" />\r\n            </el-select>\r\n            \r\n            <el-select v-model=\"filterStatus\" placeholder=\"设备状态\" clearable @change=\"handleSearch\">\r\n              <el-option label=\"全部状态\" value=\"\" />\r\n              <el-option label=\"在线\" value=\"online\" />\r\n              <el-option label=\"离线\" value=\"offline\" />\r\n              <el-option label=\"告警\" value=\"warning\" />\r\n            </el-select>\r\n            \r\n            <el-select v-model=\"filterLocation\" placeholder=\"设备位置\" clearable @change=\"handleSearch\">\r\n              <el-option label=\"全部位置\" value=\"\" />\r\n              <el-option v-for=\"location in locations\" :key=\"location\" :label=\"location\" :value=\"location\" />\r\n            </el-select>\r\n          </div>\r\n          \r\n          <!-- 设备列表 -->\r\n          <el-table\r\n            :data=\"filteredDevices\"\r\n            style=\"width: 100%\"\r\n            v-loading=\"loading\"\r\n            border\r\n            stripe\r\n          >\r\n            <el-table-column prop=\"id\" label=\"设备ID\" width=\"120\" />\r\n            <el-table-column prop=\"name\" label=\"设备名称\" min-width=\"150\" />\r\n            <el-table-column prop=\"type\" label=\"设备类型\" width=\"120\">\r\n              <template #default=\"scope\">\r\n                <el-tag :type=\"getDeviceTypeTag(scope.row.type)\">\r\n                  {{ getDeviceTypeName(scope.row.type) }}\r\n                </el-tag>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"location\" label=\"安装位置\" width=\"120\" />\r\n            <el-table-column prop=\"status\" label=\"状态\" width=\"100\">\r\n              <template #default=\"scope\">\r\n                <el-tag :type=\"getStatusTagType(scope.row.status)\">\r\n                  {{ getStatusName(scope.row.status) }}\r\n                </el-tag>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"lastActive\" label=\"最后活跃时间\" width=\"180\" />\r\n            <el-table-column label=\"操作\" width=\"250\" fixed=\"right\">\r\n              <template #default=\"scope\">\r\n                <el-button\r\n                  type=\"primary\"\r\n                  size=\"small\"\r\n                  @click=\"handleDetail(scope.row)\"\r\n                >\r\n                  详情\r\n                </el-button>\r\n                <el-button\r\n                  type=\"success\"\r\n                  size=\"small\"\r\n                  @click=\"handleControl(scope.row)\"\r\n                  :disabled=\"scope.row.status === 'offline'\"\r\n                >\r\n                  控制\r\n                </el-button>\r\n                <el-button\r\n                  type=\"danger\"\r\n                  size=\"small\"\r\n                  @click=\"handleDelete(scope.row)\"\r\n                >\r\n                  删除\r\n                </el-button>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n          \r\n          <!-- 分页 -->\r\n          <div class=\"pagination-container\">\r\n            <el-pagination\r\n              v-model:current-page=\"currentPage\"\r\n              v-model:page-size=\"pageSize\"\r\n              :page-sizes=\"[10, 20, 50, 100]\"\r\n              layout=\"total, sizes, prev, pager, next, jumper\"\r\n              :total=\"totalDevices\"\r\n              @size-change=\"handleSizeChange\"\r\n              @current-change=\"handleCurrentChange\"\r\n            />\r\n          </div>\r\n        </el-main>\r\n      </el-container>\r\n    </el-container>\r\n    \r\n    <!-- 添加设备对话框 -->\r\n    <el-dialog\r\n      v-model=\"addDialogVisible\"\r\n      title=\"添加设备\"\r\n      width=\"600px\"\r\n      destroy-on-close\r\n    >\r\n      <el-form\r\n        :model=\"deviceForm\"\r\n        :rules=\"deviceRules\"\r\n        ref=\"deviceFormRef\"\r\n        label-width=\"100px\"\r\n        label-position=\"right\"\r\n      >\r\n        <el-form-item label=\"设备名称\" prop=\"name\">\r\n          <el-input v-model=\"deviceForm.name\" placeholder=\"请输入设备名称\" />\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"设备类型\" prop=\"type\">\r\n          <el-select v-model=\"deviceForm.type\" placeholder=\"请选择设备类型\">\r\n            <el-option label=\"环境传感器\" value=\"sensor\" />\r\n            <el-option label=\"控制设备\" value=\"controller\" />\r\n            <el-option label=\"摄像头\" value=\"camera\" />\r\n            <el-option label=\"饲喂设备\" value=\"feeder\" />\r\n          </el-select>\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"安装位置\" prop=\"location\">\r\n          <el-select v-model=\"deviceForm.location\" placeholder=\"请选择安装位置\">\r\n            <el-option v-for=\"location in locations\" :key=\"location\" :label=\"location\" :value=\"location\" />\r\n          </el-select>\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"设备IP\" prop=\"ip\">\r\n          <el-input v-model=\"deviceForm.ip\" placeholder=\"请输入设备IP地址\" />\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"MAC地址\" prop=\"mac\">\r\n          <el-input v-model=\"deviceForm.mac\" placeholder=\"请输入设备MAC地址\" />\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"备注\" prop=\"notes\">\r\n          <el-input\r\n            v-model=\"deviceForm.notes\"\r\n            type=\"textarea\"\r\n            rows=\"3\"\r\n            placeholder=\"请输入设备备注信息\"\r\n          />\r\n        </el-form-item>\r\n      </el-form>\r\n      \r\n      <template #footer>\r\n        <div class=\"dialog-footer\">\r\n          <el-button @click=\"addDialogVisible = false\">取消</el-button>\r\n          <el-button type=\"primary\" @click=\"submitDeviceForm\" :loading=\"submitting\">\r\n            添加\r\n          </el-button>\r\n        </div>\r\n      </template>\r\n    </el-dialog>\r\n    \r\n    <!-- 设备详情对话框 -->\r\n    <el-dialog\r\n      v-model=\"detailDialogVisible\"\r\n      title=\"设备详情\"\r\n      width=\"700px\"\r\n    >\r\n      <div v-if=\"currentDevice\" class=\"device-detail\">\r\n        <el-descriptions :column=\"2\" border>\r\n          <el-descriptions-item label=\"设备ID\">{{ currentDevice.id }}</el-descriptions-item>\r\n          <el-descriptions-item label=\"设备名称\">{{ currentDevice.name }}</el-descriptions-item>\r\n          <el-descriptions-item label=\"设备类型\">\r\n            <el-tag :type=\"getDeviceTypeTag(currentDevice.type)\">\r\n              {{ getDeviceTypeName(currentDevice.type) }}\r\n            </el-tag>\r\n          </el-descriptions-item>\r\n          <el-descriptions-item label=\"设备状态\">\r\n            <el-tag :type=\"getStatusTagType(currentDevice.status)\">\r\n              {{ getStatusName(currentDevice.status) }}\r\n            </el-tag>\r\n          </el-descriptions-item>\r\n          <el-descriptions-item label=\"安装位置\">{{ currentDevice.location }}</el-descriptions-item>\r\n          <el-descriptions-item label=\"最后活跃时间\">{{ currentDevice.lastActive }}</el-descriptions-item>\r\n          <el-descriptions-item label=\"设备IP\">{{ currentDevice.ip }}</el-descriptions-item>\r\n          <el-descriptions-item label=\"MAC地址\">{{ currentDevice.mac }}</el-descriptions-item>\r\n          <el-descriptions-item label=\"安装日期\">{{ currentDevice.installDate }}</el-descriptions-item>\r\n          <el-descriptions-item label=\"固件版本\">{{ currentDevice.firmwareVersion }}</el-descriptions-item>\r\n          <el-descriptions-item label=\"备注\" :span=\"2\">{{ currentDevice.notes }}</el-descriptions-item>\r\n        </el-descriptions>\r\n        \r\n        <div class=\"detail-section\">\r\n          <h3>设备数据</h3>\r\n          <div v-if=\"currentDevice.type === 'sensor'\" class=\"sensor-data\">\r\n            <el-row :gutter=\"20\">\r\n              <el-col :span=\"8\" v-for=\"(value, key) in currentDevice.data\" :key=\"key\">\r\n                <el-card shadow=\"hover\" class=\"data-card\">\r\n                  <div class=\"data-value\">{{ value.value }}{{ value.unit }}</div>\r\n                  <div class=\"data-label\">{{ value.label }}</div>\r\n                </el-card>\r\n              </el-col>\r\n            </el-row>\r\n          </div>\r\n          \r\n          <div v-else-if=\"currentDevice.type === 'camera'\" class=\"camera-data\">\r\n            <el-card shadow=\"hover\" class=\"camera-card\">\r\n              <div class=\"camera-stream\">\r\n                <img :src=\"currentDevice.streamUrl\" alt=\"摄像头画面\" />\r\n              </div>\r\n              <div class=\"camera-controls\">\r\n                <el-button-group>\r\n                  <el-button type=\"primary\" :icon=\"VideoPlay\">开始</el-button>\r\n                  <el-button type=\"warning\" :icon=\"VideoPause\">暂停</el-button>\r\n                  <el-button type=\"info\" :icon=\"Camera\">截图</el-button>\r\n                </el-button-group>\r\n              </div>\r\n            </el-card>\r\n          </div>\r\n          \r\n          <div v-else class=\"other-data\">\r\n            <el-empty description=\"暂无数据\" />\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"detail-section\">\r\n          <h3>历史记录</h3>\r\n          <el-tabs>\r\n            <el-tab-pane label=\"告警记录\">\r\n              <el-table :data=\"deviceAlerts\" style=\"width: 100%\">\r\n                <el-table-column prop=\"time\" label=\"时间\" width=\"180\" />\r\n                <el-table-column prop=\"type\" label=\"告警类型\" width=\"120\">\r\n                  <template #default=\"scope\">\r\n                    <el-tag type=\"danger\">{{ scope.row.type }}</el-tag>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"message\" label=\"告警内容\" />\r\n                <el-table-column prop=\"status\" label=\"状态\" width=\"100\">\r\n                  <template #default=\"scope\">\r\n                    <el-tag :type=\"scope.row.status === 'resolved' ? 'success' : 'warning'\">\r\n                      {{ scope.row.status === 'resolved' ? '已解决' : '未解决' }}\r\n                    </el-tag>\r\n                  </template>\r\n                </el-table-column>\r\n              </el-table>\r\n            </el-tab-pane>\r\n            <el-tab-pane label=\"维护记录\">\r\n              <el-table :data=\"deviceMaintenance\" style=\"width: 100%\">\r\n                <el-table-column prop=\"time\" label=\"时间\" width=\"180\" />\r\n                <el-table-column prop=\"type\" label=\"维护类型\" width=\"120\" />\r\n                <el-table-column prop=\"operator\" label=\"操作人\" width=\"120\" />\r\n                <el-table-column prop=\"description\" label=\"维护内容\" />\r\n              </el-table>\r\n            </el-tab-pane>\r\n          </el-tabs>\r\n        </div>\r\n      </div>\r\n    </el-dialog>\r\n    \r\n    <!-- 设备控制对话框 -->\r\n    <el-dialog\r\n      v-model=\"controlDialogVisible\"\r\n      title=\"设备控制\"\r\n      width=\"600px\"\r\n    >\r\n      <div v-if=\"currentDevice\" class=\"device-control\">\r\n        <div class=\"control-header\">\r\n          <h3>{{ currentDevice.name }}</h3>\r\n          <el-tag :type=\"getStatusTagType(currentDevice.status)\">\r\n            {{ getStatusName(currentDevice.status) }}\r\n          </el-tag>\r\n        </div>\r\n        \r\n        <div v-if=\"currentDevice.type === 'controller'\" class=\"controller-controls\">\r\n          <el-card shadow=\"hover\" class=\"control-card\">\r\n            <template #header>\r\n              <div class=\"control-card-header\">\r\n                <span>环境控制</span>\r\n              </div>\r\n            </template>\r\n            <el-form label-position=\"left\" label-width=\"100px\">\r\n              <el-form-item label=\"设备开关\">\r\n                <el-switch\r\n                  v-model=\"controlForm.power\"\r\n                  active-text=\"开启\"\r\n                  inactive-text=\"关闭\"\r\n                  @change=\"handlePowerChange\"\r\n                />\r\n              </el-form-item>\r\n              <el-form-item label=\"运行模式\">\r\n                <el-radio-group v-model=\"controlForm.mode\" @change=\"handleModeChange\">\r\n                  <el-radio label=\"auto\">自动模式</el-radio>\r\n                  <el-radio label=\"manual\">手动模式</el-radio>\r\n                </el-radio-group>\r\n              </el-form-item>\r\n              <el-form-item label=\"温度设定\">\r\n                <el-slider\r\n                  v-model=\"controlForm.temperature\"\r\n                  :min=\"16\"\r\n                  :max=\"30\"\r\n                  :step=\"0.5\"\r\n                  :disabled=\"controlForm.mode === 'auto'\"\r\n                  show-input\r\n                  @change=\"handleTemperatureChange\"\r\n                />\r\n              </el-form-item>\r\n              <el-form-item label=\"湿度设定\">\r\n                <el-slider\r\n                  v-model=\"controlForm.humidity\"\r\n                  :min=\"40\"\r\n                  :max=\"80\"\r\n                  :step=\"1\"\r\n                  :disabled=\"controlForm.mode === 'auto'\"\r\n                  show-input\r\n                  @change=\"handleHumidityChange\"\r\n                />\r\n              </el-form-item>\r\n            </el-form>\r\n          </el-card>\r\n        </div>\r\n        \r\n        <div v-else-if=\"currentDevice.type === 'feeder'\" class=\"feeder-controls\">\r\n          <el-card shadow=\"hover\" class=\"control-card\">\r\n            <template #header>\r\n              <div class=\"control-card-header\">\r\n                <span>饲喂控制</span>\r\n              </div>\r\n            </template>\r\n            <el-form label-position=\"left\" label-width=\"100px\">\r\n              <el-form-item label=\"设备开关\">\r\n                <el-switch\r\n                  v-model=\"controlForm.power\"\r\n                  active-text=\"开启\"\r\n                  inactive-text=\"关闭\"\r\n                  @change=\"handlePowerChange\"\r\n                />\r\n              </el-form-item>\r\n              <el-form-item label=\"饲喂模式\">\r\n                <el-radio-group v-model=\"controlForm.feedMode\" @change=\"handleFeedModeChange\">\r\n                  <el-radio label=\"auto\">自动饲喂</el-radio>\r\n                  <el-radio label=\"manual\">手动饲喂</el-radio>\r\n                </el-radio-group>\r\n              </el-form-item>\r\n              <el-form-item label=\"饲喂量\">\r\n                <el-input-number\r\n                  v-model=\"controlForm.feedAmount\"\r\n                  :min=\"1\"\r\n                  :max=\"100\"\r\n                  :step=\"1\"\r\n                  :disabled=\"controlForm.feedMode === 'auto'\"\r\n                  @change=\"handleFeedAmountChange\"\r\n                />\r\n                <span class=\"unit\">kg</span>\r\n              </el-form-item>\r\n              <el-form-item v-if=\"controlForm.feedMode === 'manual'\">\r\n                <el-button type=\"primary\" @click=\"handleManualFeed\">立即饲喂</el-button>\r\n              </el-form-item>\r\n              <el-form-item label=\"饲喂计划\" v-if=\"controlForm.feedMode === 'auto'\">\r\n                <el-table :data=\"feedSchedule\" style=\"width: 100%\">\r\n                  <el-table-column prop=\"time\" label=\"时间\" width=\"120\" />\r\n                  <el-table-column prop=\"amount\" label=\"饲喂量(kg)\" width=\"100\" />\r\n                  <el-table-column label=\"操作\" width=\"80\">\r\n                    <template #default=\"scope\">\r\n                      <el-button\r\n                        type=\"danger\"\r\n                        size=\"small\"\r\n                        circle\r\n                        @click=\"removeFeedSchedule(scope.$index)\"\r\n                      >\r\n                        <el-icon><Delete /></el-icon>\r\n                      </el-button>\r\n                    </template>\r\n                  </el-table-column>\r\n                </el-table>\r\n                <div class=\"add-schedule\">\r\n                  <el-time-picker\r\n                    v-model=\"newScheduleTime\"\r\n                    format=\"HH:mm\"\r\n                    placeholder=\"选择时间\"\r\n                    style=\"width: 120px;\"\r\n                  />\r\n                  <el-input-number\r\n                    v-model=\"newScheduleAmount\"\r\n                    :min=\"1\"\r\n                    :max=\"100\"\r\n                    :step=\"1\"\r\n                    style=\"width: 100px; margin: 0 10px;\"\r\n                  />\r\n                  <el-button type=\"primary\" @click=\"addFeedSchedule\">添加</el-button>\r\n                </div>\r\n              </el-form-item>\r\n            </el-form>\r\n          </el-card>\r\n        </div>\r\n        \r\n        <div v-else>\r\n          <el-empty description=\"该设备类型不支持控制操作\" />\r\n        </div>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, reactive, computed, onMounted } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { useAuthStore } from '@/store/auth'\r\nimport { ElMessage, ElMessageBox } from 'element-plus'\r\nimport {\r\n  HomeFilled,\r\n  Monitor,\r\n  DataLine,\r\n  Connection,\r\n  User,\r\n  Setting,\r\n  Search,\r\n  Plus,\r\n  ArrowDown,\r\n  CircleCheck,\r\n  CircleClose,\r\n  Warning,\r\n  Delete,\r\n  VideoPlay,\r\n  VideoPause,\r\n  Camera\r\n} from '@element-plus/icons-vue'\r\n\r\nexport default {\r\n  name: 'DeviceManagementPage',\r\n  components: {\r\n    HomeFilled,\r\n    Monitor,\r\n    DataLine,\r\n    Connection,\r\n    User,\r\n    Setting,\r\n    Search,\r\n    Plus,\r\n    ArrowDown,\r\n    CircleCheck,\r\n    CircleClose,\r\n    Warning,\r\n    Delete,\r\n    VideoPlay,\r\n    VideoPause,\r\n    Camera\r\n  },\r\n  setup() {\r\n    const router = useRouter()\r\n    const authStore = useAuthStore()\r\n    \r\n    // 侧边栏状态\r\n    const isCollapse = ref(false)\r\n    \r\n    // 用户信息\r\n    const userName = computed(() => authStore.user?.name || '用户')\r\n    const userAvatar = computed(() => authStore.user?.avatar || '')\r\n    const userInitials = computed(() => {\r\n      const name = authStore.user?.name || ''\r\n      return name.substring(0, 1).toUpperCase()\r\n    })\r\n    const isAdmin = computed(() => authStore.isAdmin)\r\n    \r\n    // 设备统计\r\n    const deviceStats = reactive({\r\n      total: 0,\r\n      online: 0,\r\n      offline: 0,\r\n      warning: 0\r\n    })\r\n    \r\n    // 设备列表状态\r\n    const loading = ref(false)\r\n    const devices = ref([])\r\n    const totalDevices = ref(0)\r\n    const currentPage = ref(1)\r\n    const pageSize = ref(10)\r\n    \r\n    // 搜索和筛选\r\n    const searchQuery = ref('')\r\n    const filterType = ref('')\r\n    const filterStatus = ref('')\r\n    const filterLocation = ref('')\r\n    \r\n    // 位置列表\r\n    const locations = ref([\r\n      '1号猪舍',\r\n      '2号猪舍',\r\n      '3号猪舍',\r\n      '饲料仓库',\r\n      '中控室'\r\n    ])\r\n    \r\n    // 对话框状态\r\n    const addDialogVisible = ref(false)\r\n    const detailDialogVisible = ref(false)\r\n    const controlDialogVisible = ref(false)\r\n    const submitting = ref(false)\r\n    const deviceFormRef = ref(null)\r\n    \r\n    // 当前选中的设备\r\n    const currentDevice = ref(null)\r\n    \r\n    // 设备表单\r\n    const deviceForm = reactive({\r\n      name: '',\r\n      type: '',\r\n      location: '',\r\n      ip: '',\r\n      mac: '',\r\n      notes: ''\r\n    })\r\n    \r\n    // 控制表单\r\n    const controlForm = reactive({\r\n      power: true,\r\n      mode: 'auto',\r\n      temperature: 24,\r\n      humidity: 60,\r\n      feedMode: 'auto',\r\n      feedAmount: 10\r\n    })\r\n    \r\n    // 饲喂计划\r\n    const feedSchedule = ref([\r\n      { time: '08:00', amount: 20 },\r\n      { time: '16:00', amount: 15 }\r\n    ])\r\n    const newScheduleTime = ref('')\r\n    const newScheduleAmount = ref(10)\r\n    \r\n    // 设备告警记录\r\n    const deviceAlerts = ref([\r\n      {\r\n        time: '2025-03-15 08:23',\r\n        type: '温度异常',\r\n        message: '设备检测到温度过高 (32.5°C)',\r\n        status: 'resolved'\r\n      },\r\n      {\r\n        time: '2025-03-14 23:45',\r\n        type: '连接中断',\r\n        message: '设备连接中断超过30分钟',\r\n        status: 'active'\r\n      }\r\n    ])\r\n    \r\n    // 设备维护记录\r\n    const deviceMaintenance = ref([\r\n      {\r\n        time: '2025-03-10 14:30',\r\n        type: '例行检查',\r\n        operator: '张三',\r\n        description: '设备例行检查，清理灰尘，检查连接'\r\n      },\r\n      {\r\n        time: '2025-02-20 09:15',\r\n        type: '固件升级',\r\n        operator: '李四',\r\n        description: '升级设备固件至v2.3.5版本'\r\n      }\r\n    ])\r\n    \r\n    // 表单验证规则\r\n    const deviceRules = {\r\n      name: [\r\n        { required: true, message: '请输入设备名称', trigger: 'blur' },\r\n        { min: 2, max: 30, message: '长度在 2 到 30 个字符', trigger: 'blur' }\r\n      ],\r\n      type: [\r\n        { required: true, message: '请选择设备类型', trigger: 'change' }\r\n      ],\r\n      location: [\r\n        { required: true, message: '请选择安装位置', trigger: 'change' }\r\n      ],\r\n      ip: [\r\n        { required: true, message: '请输入设备IP地址', trigger: 'blur' }\r\n      ],\r\n      mac: [\r\n        { required: true, message: '请输入设备MAC地址', trigger: 'blur' }\r\n      ]\r\n    }\r\n    \r\n    // 设备管理方法\r\n    const handleCommand = () => {\r\n      // 实现命令处理逻辑\r\n    }\r\n    \r\n    const toggleSidebar = () => {\r\n      // 实现侧边栏切换逻辑\r\n    }\r\n    \r\n    const showAddDeviceDialog = () => {\r\n      // 实现显示添加设备对话框逻辑\r\n    }\r\n    \r\n    const handleSearch = () => {\r\n      // 实现搜索逻辑\r\n    }\r\n    \r\n    const handleSizeChange = () => {\r\n      // 实现分页大小改变逻辑\r\n    }\r\n    \r\n    const handleCurrentChange = () => {\r\n      // 实现当前页改变逻辑\r\n    }\r\n    \r\n    const handleDetail = (device) => {\r\n      // 实现查看设备详情逻辑\r\n    }\r\n    \r\n    const handleControl = (device) => {\r\n      // 实现控制设备逻辑\r\n    }\r\n    \r\n    const handleDelete = (device) => {\r\n      // 实现删除设备逻辑\r\n    }\r\n    \r\n    const handlePowerChange = () => {\r\n      // 实现设备开关改变逻辑\r\n    }\r\n    \r\n    const handleModeChange = () => {\r\n      // 实现设备运行模式改变逻辑\r\n    }\r\n    \r\n    const handleTemperatureChange = () => {\r\n      // 实现温度设定改变逻辑\r\n    }\r\n    \r\n    const handleHumidityChange = () => {\r\n      // 实现湿度设定改变逻辑\r\n    }\r\n    \r\n    const handleFeedModeChange = () => {\r\n      // 实现饲喂模式改变逻辑\r\n    }\r\n    \r\n    const handleFeedAmountChange = () => {\r\n      // 实现饲喂量改变逻辑\r\n    }\r\n    \r\n    const handleManualFeed = () => {\r\n      // 实现手动饲喂逻辑\r\n    }\r\n    \r\n    const removeFeedSchedule = (index) => {\r\n      // 实现移除饲喂计划逻辑\r\n    }\r\n    \r\n    const addFeedSchedule = () => {\r\n      // 实现添加饲喂计划逻辑\r\n    }\r\n    \r\n    return {\r\n      // 用户信息\r\n      userName,\r\n      userAvatar,\r\n      userInitials,\r\n      isAdmin,\r\n      \r\n      // 侧边栏状态\r\n      isCollapse,\r\n      toggleSidebar,\r\n      \r\n      // 设备统计\r\n      deviceStats,\r\n      \r\n      // 设备列表状态\r\n      loading,\r\n      devices,\r\n      totalDevices,\r\n      currentPage,\r\n      pageSize,\r\n      \r\n      // 搜索和筛选\r\n      searchQuery,\r\n      filterType,\r\n      filterStatus,\r\n      filterLocation,\r\n      locations,\r\n      handleSearch,\r\n      handleSizeChange,\r\n      handleCurrentChange,\r\n      \r\n      // 设备操作\r\n      handleDetail,\r\n      handleControl,\r\n      handleDelete,\r\n      handleCommand,\r\n      \r\n      // 设备表单\r\n      addDialogVisible,\r\n      showAddDeviceDialog,\r\n      deviceForm,\r\n      deviceRules,\r\n      deviceFormRef,\r\n      submitting,\r\n      submitDeviceForm,\r\n      \r\n      // 设备详情\r\n      detailDialogVisible,\r\n      currentDevice,\r\n      deviceAlerts,\r\n      deviceMaintenance,\r\n      \r\n      // 设备控制\r\n      controlDialogVisible,\r\n      controlForm,\r\n      handlePowerChange,\r\n      handleModeChange,\r\n      handleTemperatureChange,\r\n      handleHumidityChange,\r\n      handleFeedModeChange,\r\n      handleFeedAmountChange,\r\n      handleManualFeed,\r\n      \r\n      // 饲喂计划\r\n      feedSchedule,\r\n      newScheduleTime,\r\n      newScheduleAmount,\r\n      addFeedSchedule,\r\n      removeFeedSchedule,\r\n      \r\n      // 辅助函数\r\n      getDeviceTypeTag: (type) => {\r\n        const typeMap = {\r\n          sensor: 'info',\r\n          controller: 'success',\r\n          camera: 'warning',\r\n          feeder: 'primary'\r\n        }\r\n        return typeMap[type] || 'info'\r\n      },\r\n      getDeviceTypeName: (type) => {\r\n        const typeMap = {\r\n          sensor: '环境传感器',\r\n          controller: '控制设备',\r\n          camera: '摄像头',\r\n          feeder: '饲喂设备'\r\n        }\r\n        return typeMap[type] || '未知设备'\r\n      },\r\n      getStatusTagType: (status) => {\r\n        const statusMap = {\r\n          online: 'success',\r\n          offline: 'info',\r\n          warning: 'warning',\r\n          error: 'danger'\r\n        }\r\n        return statusMap[status] || 'info'\r\n      },\r\n      getStatusName: (status) => {\r\n        const statusMap = {\r\n          online: '在线',\r\n          offline: '离线',\r\n          warning: '告警',\r\n          error: '错误'\r\n        }\r\n        return statusMap[status] || '未知状态'\r\n      },\r\n      \r\n      // 计算属性\r\n      filteredDevices: computed(() => {\r\n        // 这里应该实现根据搜索条件过滤设备的逻辑\r\n        // 简单示例：\r\n        return devices.value.filter(device => {\r\n          const matchQuery = !searchQuery.value || \r\n            device.name.toLowerCase().includes(searchQuery.value.toLowerCase()) ||\r\n            device.id.toLowerCase().includes(searchQuery.value.toLowerCase())\r\n          const matchType = !filterType.value || device.type === filterType.value\r\n          const matchStatus = !filterStatus.value || device.status === filterStatus.value\r\n          const matchLocation = !filterLocation.value || device.location === filterLocation.value\r\n          \r\n          return matchQuery && matchType && matchStatus && matchLocation\r\n        })\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.device-management-page {\r\n  height: 100%;\r\n}\r\n\r\n/* 侧边栏样式 */\r\n.sidebar {\r\n  background-color: #001529;\r\n  color: #fff;\r\n  height: 100vh;\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  z-index: 1000;\r\n  transition: width 0.3s;\r\n  overflow-y: auto;\r\n}\r\n\r\n.logo-container {\r\n  padding: 16px;\r\n  text-align: center;\r\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\r\n}\r\n\r\n.logo {\r\n  height: 40px;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.logo-container h2 {\r\n  color: #fff;\r\n  font-size: 16px;\r\n  margin: 0;\r\n}\r\n\r\n.sidebar-menu {\r\n  border-right: none;\r\n}\r\n\r\n/* 头部样式 */\r\n.header {\r\n  background-color: #fff;\r\n  box-shadow: 0 1px 4px rgba(0, 21, 41, 0.08);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 0 16px;\r\n  height: 64px;\r\n}\r\n\r\n.header-left {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.toggle-button {\r\n  margin-right: 16px;\r\n  font-size: 18px;\r\n}\r\n\r\n.header-right {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.user-dropdown {\r\n  display: flex;\r\n  align-items: center;\r\n  cursor: pointer;\r\n}\r\n\r\n.username {\r\n  margin: 0 8px;\r\n  color: #333;\r\n}\r\n\r\n/* 主内容区样式 */\r\n.main-content {\r\n  padding: 20px;\r\n  background-color: #f0f2f5;\r\n  min-height: calc(100vh - 64px);\r\n}\r\n\r\n.page-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 24px;\r\n}\r\n\r\n.page-header h1 {\r\n  margin: 0;\r\n  font-size: 24px;\r\n  color: #333;\r\n}\r\n\r\n/* 设备概览卡片样式 */\r\n.device-overview {\r\n  margin-bottom: 24px;\r\n}\r\n\r\n.overview-card {\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.overview-content {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.overview-icon {\r\n  font-size: 48px;\r\n  margin-right: 16px;\r\n  color: #409EFF;\r\n}\r\n\r\n.overview-icon.online {\r\n  color: #67C23A;\r\n}\r\n\r\n.overview-icon.offline {\r\n  color: #909399;\r\n}\r\n\r\n.overview-icon.warning {\r\n  color: #E6A23C;\r\n}\r\n\r\n.overview-data {\r\n  flex: 1;\r\n}\r\n\r\n.overview-value {\r\n  font-size: 28px;\r\n  font-weight: bold;\r\n  color: #333;\r\n  line-height: 1.2;\r\n}\r\n\r\n.overview-label {\r\n  font-size: 14px;\r\n  color: #666;\r\n}\r\n\r\n/* 搜索和筛选区域样式 */\r\n.filter-container {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 16px;\r\n  margin-bottom: 24px;\r\n}\r\n\r\n.search-input {\r\n  width: 300px;\r\n}\r\n\r\n/* 分页样式 */\r\n.pagination-container {\r\n  margin-top: 24px;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n}\r\n\r\n/* 设备详情样式 */\r\n.device-detail {\r\n  padding: 16px;\r\n}\r\n\r\n.detail-section {\r\n  margin-top: 24px;\r\n}\r\n\r\n.detail-section h3 {\r\n  margin-bottom: 16px;\r\n  font-size: 18px;\r\n  color: #333;\r\n}\r\n\r\n.sensor-data {\r\n  margin-top: 16px;\r\n}\r\n\r\n.data-card {\r\n  text-align: center;\r\n  padding: 16px;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.data-value {\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n  color: #409EFF;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.data-label {\r\n  font-size: 14px;\r\n  color: #666;\r\n}\r\n\r\n.camera-card {\r\n  margin-top: 16px;\r\n}\r\n\r\n.camera-stream {\r\n  width: 100%;\r\n  height: 300px;\r\n  background-color: #000;\r\n  margin-bottom: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.camera-stream img {\r\n  max-width: 100%;\r\n  max-height: 100%;\r\n}\r\n\r\n.camera-controls {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n/* 设备控制样式 */\r\n.device-control {\r\n  padding: 16px;\r\n}\r\n\r\n.control-header {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-bottom: 24px;\r\n}\r\n\r\n.control-header h3 {\r\n  margin: 0;\r\n  font-size: 18px;\r\n}\r\n\r\n.control-card {\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.control-card-header {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.add-schedule {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-top: 16px;\r\n}\r\n\r\n.unit {\r\n  margin-left: 8px;\r\n  color: #666;\r\n}\r\n\r\n/* 响应式调整 */\r\n@media (max-width: 768px) {\r\n  .filter-container {\r\n    flex-direction: column;\r\n  }\r\n  \r\n  .search-input {\r\n    width: 100%;\r\n  }\r\n  \r\n  .overview-icon {\r\n    font-size: 36px;\r\n  }\r\n  \r\n  .overview-value {\r\n    font-size: 24px;\r\n  }\r\n}\r\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}