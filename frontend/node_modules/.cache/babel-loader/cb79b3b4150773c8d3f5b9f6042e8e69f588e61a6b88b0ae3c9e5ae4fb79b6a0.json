{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createBlock as _createBlock, toDisplayString as _toDisplayString, Fragment as _Fragment, createElementBlock as _createElementBlock } from \"vue\";\nimport _imports_0 from '@/assets/logo.png';\nconst _hoisted_1 = {\n  class: \"logo-container\"\n};\nconst _hoisted_2 = {\n  class: \"ml-2\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_el_menu_item = _resolveComponent(\"el-menu-item\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_avatar = _resolveComponent(\"el-avatar\");\n  const _component_el_sub_menu = _resolveComponent(\"el-sub-menu\");\n  const _component_el_menu = _resolveComponent(\"el-menu\");\n  return _openBlock(), _createBlock(_component_el_menu, {\n    \"default-active\": $setup.activeIndex,\n    class: \"navbar\",\n    mode: \"horizontal\",\n    ellipsis: false,\n    router: \"\",\n    onSelect: $setup.handleSelect\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_router_link, {\n      to: \"/\"\n    }, {\n      default: _withCtx(() => _cache[0] || (_cache[0] = [_createElementVNode(\"img\", {\n        src: _imports_0,\n        alt: \"泓泰生物科技\",\n        class: \"logo\"\n      }, null, -1 /* HOISTED */)])),\n      _: 1 /* STABLE */\n    })]), _cache[11] || (_cache[11] = _createElementVNode(\"div\", {\n      class: \"flex-grow\"\n    }, null, -1 /* HOISTED */)), _createCommentVNode(\" 公共导航链接 \"), _createVNode(_component_el_menu_item, {\n      index: \"/\"\n    }, {\n      default: _withCtx(() => _cache[1] || (_cache[1] = [_createTextVNode(\"首页\")])),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_menu_item, {\n      index: \"/products\"\n    }, {\n      default: _withCtx(() => _cache[2] || (_cache[2] = [_createTextVNode(\"产品服务\")])),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_menu_item, {\n      index: \"/news\"\n    }, {\n      default: _withCtx(() => _cache[3] || (_cache[3] = [_createTextVNode(\"新闻动态\")])),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_menu_item, {\n      index: \"/about\"\n    }, {\n      default: _withCtx(() => _cache[4] || (_cache[4] = [_createTextVNode(\"关于我们\")])),\n      _: 1 /* STABLE */\n    }), _createCommentVNode(\" 登录/员工入口 \"), !$setup.isAuthenticated ? (_openBlock(), _createBlock(_component_el_menu_item, {\n      key: 0,\n      index: \"/login\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_button, {\n        type: \"primary\",\n        size: \"small\"\n      }, {\n        default: _withCtx(() => _cache[5] || (_cache[5] = [_createTextVNode(\"员工登录\")])),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    })) : (_openBlock(), _createElementBlock(_Fragment, {\n      key: 1\n    }, [_createCommentVNode(\" 已登录用户下拉菜单 \"), _createVNode(_component_el_sub_menu, {\n      index: \"user\"\n    }, {\n      title: _withCtx(() => [_createVNode(_component_el_avatar, {\n        size: 32,\n        src: $setup.userAvatar\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.userInitials), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"src\"]), _createElementVNode(\"span\", _hoisted_2, _toDisplayString($setup.userName), 1 /* TEXT */)]),\n      default: _withCtx(() => [_createVNode(_component_el_menu_item, {\n        index: \"/admin\"\n      }, {\n        default: _withCtx(() => _cache[6] || (_cache[6] = [_createTextVNode(\"管理控制台\")])),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_menu_item, {\n        index: \"/admin/monitoring\"\n      }, {\n        default: _withCtx(() => _cache[7] || (_cache[7] = [_createTextVNode(\"生产监控\")])),\n        _: 1 /* STABLE */\n      }), $setup.isAdmin ? (_openBlock(), _createBlock(_component_el_menu_item, {\n        key: 0,\n        index: \"/admin/employees\"\n      }, {\n        default: _withCtx(() => _cache[8] || (_cache[8] = [_createTextVNode(\"员工管理\")])),\n        _: 1 /* STABLE */\n      })) : _createCommentVNode(\"v-if\", true), _createVNode(_component_el_menu_item, {\n        index: \"/admin/devices\"\n      }, {\n        default: _withCtx(() => _cache[9] || (_cache[9] = [_createTextVNode(\"设备管理\")])),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_menu_item, {\n        onClick: $setup.handleLogout\n      }, {\n        default: _withCtx(() => _cache[10] || (_cache[10] = [_createTextVNode(\"退出登录\")])),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"])]),\n      _: 1 /* STABLE */\n    })], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"default-active\", \"onSelect\"]);\n}","map":{"version":3,"names":["_imports_0","class","_createBlock","_component_el_menu","$setup","activeIndex","mode","ellipsis","router","onSelect","handleSelect","default","_withCtx","_createElementVNode","_hoisted_1","_createVNode","_component_router_link","to","_cache","src","alt","_","_createCommentVNode","_component_el_menu_item","index","_createTextVNode","isAuthenticated","key","_component_el_button","type","size","_createElementBlock","_Fragment","_component_el_sub_menu","title","_component_el_avatar","userAvatar","_toDisplayString","userInitials","_hoisted_2","userName","isAdmin","onClick","handleLogout"],"sources":["C:\\Users\\Scott\\Downloads\\毕设\\frontend\\src\\components\\layout\\Navbar.vue"],"sourcesContent":["<template>\r\n  <el-menu\r\n    :default-active=\"activeIndex\"\r\n    class=\"navbar\"\r\n    mode=\"horizontal\"\r\n    :ellipsis=\"false\"\r\n    router\r\n    @select=\"handleSelect\"\r\n  >\r\n    <div class=\"logo-container\">\r\n      <router-link to=\"/\">\r\n        <img src=\"@/assets/logo.png\" alt=\"泓泰生物科技\" class=\"logo\" />\r\n      </router-link>\r\n    </div>\r\n    \r\n    <div class=\"flex-grow\" />\r\n    \r\n    <!-- 公共导航链接 -->\r\n    <el-menu-item index=\"/\">首页</el-menu-item>\r\n    <el-menu-item index=\"/products\">产品服务</el-menu-item>\r\n    <el-menu-item index=\"/news\">新闻动态</el-menu-item>\r\n    <el-menu-item index=\"/about\">关于我们</el-menu-item>\r\n    \r\n    <!-- 登录/员工入口 -->\r\n    <el-menu-item v-if=\"!isAuthenticated\" index=\"/login\">\r\n      <el-button type=\"primary\" size=\"small\">员工登录</el-button>\r\n    </el-menu-item>\r\n    \r\n    <!-- 已登录用户下拉菜单 -->\r\n    <el-sub-menu v-else index=\"user\">\r\n      <template #title>\r\n        <el-avatar :size=\"32\" :src=\"userAvatar\">\r\n          {{ userInitials }}\r\n        </el-avatar>\r\n        <span class=\"ml-2\">{{ userName }}</span>\r\n      </template>\r\n      \r\n      <el-menu-item index=\"/admin\">管理控制台</el-menu-item>\r\n      <el-menu-item index=\"/admin/monitoring\">生产监控</el-menu-item>\r\n      <el-menu-item v-if=\"isAdmin\" index=\"/admin/employees\">员工管理</el-menu-item>\r\n      <el-menu-item index=\"/admin/devices\">设备管理</el-menu-item>\r\n      <el-menu-item @click=\"handleLogout\">退出登录</el-menu-item>\r\n    </el-sub-menu>\r\n  </el-menu>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed } from 'vue'\r\nimport { useRoute, useRouter } from 'vue-router'\r\nimport { useAuthStore } from '@/store/auth'\r\n\r\nexport default {\r\n  name: 'Navbar',\r\n  \r\n  setup() {\r\n    const route = useRoute()\r\n    const router = useRouter()\r\n    const authStore = useAuthStore()\r\n    \r\n    const activeIndex = ref(route.path)\r\n    \r\n    // 计算属性\r\n    const isAuthenticated = computed(() => authStore.isAuthenticated)\r\n    const isAdmin = computed(() => authStore.isAdmin)\r\n    const userName = computed(() => authStore.user?.name || '用户')\r\n    const userAvatar = computed(() => authStore.user?.avatar || '')\r\n    const userInitials = computed(() => {\r\n      const name = authStore.user?.name || ''\r\n      return name.substring(0, 1).toUpperCase()\r\n    })\r\n    \r\n    // 方法\r\n    const handleSelect = (key) => {\r\n      activeIndex.value = key\r\n    }\r\n    \r\n    const handleLogout = async () => {\r\n      authStore.logout()\r\n      router.push('/')\r\n    }\r\n    \r\n    return {\r\n      activeIndex,\r\n      isAuthenticated,\r\n      isAdmin,\r\n      userName,\r\n      userAvatar,\r\n      userInitials,\r\n      handleSelect,\r\n      handleLogout\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.navbar {\r\n  height: 64px;\r\n  padding: 0 20px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.logo-container {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-right: 20px;\r\n}\r\n\r\n.logo {\r\n  height: 40px;\r\n}\r\n\r\n.flex-grow {\r\n  flex-grow: 1;\r\n}\r\n\r\n/* 响应式调整 */\r\n@media (max-width: 768px) {\r\n  .navbar {\r\n    padding: 0 10px;\r\n  }\r\n  \r\n  .logo {\r\n    height: 32px;\r\n  }\r\n}\r\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}